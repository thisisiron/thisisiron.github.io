<style>
    body {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        font-family: Arial, sans-serif;
        background-color: #ffffff;
    }

    #container {
        height: 99%;
        margin: auto;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        flex-basis: auto;
        min-width: 0;
        min-height: 0;
    }

    #content {
        margin: auto;
        align-items: center;
    }

    #zip {
        align-items: center;
        margin: auto;
        display: flex;
        flex-grow: 1;
        flex-shrink: 1;
        flex-basis: 0%;
        justify-content: center;
    }

    #myProgress {
        width: 200px;
        margin: 12px auto 0;
        background-color: white;
        height: 3px;
    }

    #myBar {
        width: 0%;
        height: 100%;
        background-color: #525252;
        transition: none;
    }

    #myPercent {
        font-family: 'Courier New', monospace;
        font-size: 11px;
        color: #525252;
        text-align: center;
        margin-top: 6px;
        width: 200px;
        margin-left: auto;
        margin-right: auto;
    }

    .fade-out {
        animation: fadeOut 0.3s ease forwards;
    }

    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
    }
</style>

<head>
    <link rel="icon" href="images/iron.png">
    <link rel="apple-touch-icon" href="images/iron.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron</title>
</head>

<body>
    <div id="container">
        <div id="content">
            <div id="zip">
                <a href="#" onclick="move(); return false;" style="text-decoration: none;">
                    <div>
                        <img src="images/zip.jpg" width="80" alt="iron.zip">
                    </div>
                    <p style="font-size: 13px; font-family: 'Courier New'; text-align: center; margin-top: 3px">iron.zip</p>
                </a>
            </div>

            <div id="myProgress">
                <div id="myBar"></div>
            </div>
            <p id="myPercent"></p>
        </div>
    </div>

<script>
    var isAnimating = false;

    function easeInOut(t) {
        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    }

    function move() {
        if (isAnimating) return;
        isAnimating = true;

        var bar = document.getElementById('myBar');
        var percent = document.getElementById('myPercent');
        var duration = 2000;
        var start = null;

        function step(timestamp) {
            if (!start) start = timestamp;
            var elapsed = timestamp - start;
            var t = Math.min(elapsed / duration, 1);
            var progress = easeInOut(t) * 100;

            bar.style.width = progress + '%';
            percent.textContent = Math.floor(progress) + '%';

            if (t < 1) {
                requestAnimationFrame(step);
            } else {
                percent.textContent = '100%';
                setTimeout(function() {
                    document.body.classList.add('fade-out');
                    setTimeout(function() {
                        window.location.href = 'home.html';
                    }, 300);
                }, 200);
            }
        }

        requestAnimationFrame(step);
    }

    window.addEventListener('pageshow', function() {
        document.body.classList.remove('fade-out');
        isAnimating = false;
        document.getElementById('myBar').style.width = '0%';
        document.getElementById('myPercent').textContent = '';
    });
</script>
</body>
